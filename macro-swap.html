<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BUILT Macro Swap Tool</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #0a0a0a;
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<body>
<div style="max-width: 600px; margin: auto; font-family: Arial, sans-serif; padding: 20px; background-color: #121212; color: #f0f0f0; border-radius: 10px;">
  <h2 style="text-align: center; font-size: 22px;">BUILT Macro Swap Tool</h2>
  <p style="text-align: center; margin-bottom: 30px;">Swap any food for a similar macro equivalent</p>

  <label>Original Food</label>
  <input id="originalFood" type="text" placeholder="e.g. 100g chicken breast" style="width: 100%; padding: 8px; margin-bottom: 10px; background: #1e1e1e; color: white; border: 1px solid #333; box-sizing: border-box;">

  <label>Replacement Food</label>
  <input id="replacementFood" type="text" placeholder="e.g. ground turkey" style="width: 100%; padding: 8px; margin-bottom: 20px; background: #1e1e1e; color: white; border: 1px solid #333; box-sizing: border-box;">

  <button onclick="swapMacros()" style="width: 100%; padding: 12px; font-size: 16px; background-color: #2e2e2e; color: white; border: none; border-radius: 6px;">Get Equivalent Quantity</button>

  <div id="replacementQty" style="margin-top: 30px; font-weight: bold; color: #f0f0f0;"></div>

  <div id="macroTable" style="margin-top: 20px; display: none;">
    <h3 style="border-bottom: 1px solid #444; padding-bottom: 5px;">Macro Comparison</h3>
    <table style="width: 100%; border-collapse: collapse; background: #181818;">
      <thead>
        <tr style="background-color: #222;">
          <th style="padding: 12px; border: 1px solid #333; text-align: left; font-weight: bold; color: #f0f0f0;">Food</th>
          <th style="padding: 12px; border: 1px solid #333; text-align: left; font-weight: bold; color: #f0f0f0;">Quantity</th>
          <th style="padding: 12px; border: 1px solid #333; text-align: left; font-weight: bold; color: #f0f0f0;">Protein (g)</th>
          <th style="padding: 12px; border: 1px solid #333; text-align: left; font-weight: bold; color: #f0f0f0;">Carbs (g)</th>
          <th style="padding: 12px; border: 1px solid #333; text-align: left; font-weight: bold; color: #f0f0f0;">Fat (g)</th>
          <th style="padding: 12px; border: 1px solid #333; text-align: left; font-weight: bold; color: #f0f0f0;">Calories</th>
        </tr>
      </thead>
      <tbody id="macroTableBody"></tbody>
    </table>
  </div>

  <div id="swapSuggestions" style="margin-top: 30px;">
    <h3 style="border-bottom: 1px solid #444; padding-bottom: 5px;">Available Foods</h3>
    <ul style="line-height: 1.8; font-size: 15px;">
      <li><strong>Proteins:</strong> chicken breast, ground turkey, white fish, tofu, greek yogurt, cottage cheese</li>
      <li><strong>Carbs:</strong> rice, quinoa, sweet potato, oats</li>
      <li><strong>Fats:</strong> peanut butter, almond butter</li>
    </ul>
  </div>
</div>

<script>
const foodDatabase = {
  'chicken breast': { protein: 23, carbs: 0, fat: 3.6, calories: 165 },
  'ground turkey': { protein: 20, carbs: 0, fat: 8, calories: 149 },
  'white fish': { protein: 20, carbs: 0, fat: 1, calories: 85 },
  'tofu': { protein: 8, carbs: 2, fat: 4, calories: 70 },
  'rice': { protein: 2.7, carbs: 28, fat: 0.3, calories: 130 },
  'quinoa': { protein: 4.4, carbs: 22, fat: 1.9, calories: 120 },
  'sweet potato': { protein: 2, carbs: 20, fat: 0.1, calories: 86 },
  'oats': { protein: 17, carbs: 66, fat: 7, calories: 389 },
  'greek yogurt': { protein: 10, carbs: 4, fat: 0, calories: 59 },
  'cottage cheese': { protein: 11, carbs: 3.4, fat: 4.3, calories: 98 },
  'peanut butter': { protein: 25, carbs: 20, fat: 50, calories: 588 },
  'almond butter': { protein: 21, carbs: 20, fat: 55, calories: 614 }
};

function parseFood(foodText) {
  const text = foodText.toLowerCase();
  
  let quantity = 100;
  const numberMatch = text.match(/(\d+(?:\.\d+)?)/);
  if (numberMatch) {
    quantity = parseFloat(numberMatch[1]);
  }
  
  for (let food in foodDatabase) {
    if (text.includes(food)) {
      return { food, quantity, data: foodDatabase[food] };
    }
  }
  
  return null;
}

function swapMacros() {
  const originalFood = document.getElementById("originalFood").value;
  const replacementFood = document.getElementById("replacementFood").value;

  if (!originalFood || !replacementFood) {
    document.getElementById("replacementQty").innerText = "Please fill in both foods.";
    return;
  }

  const original = parseFood(originalFood);
  const replacement = parseFood(replacementFood);
  
  if (!original) {
    document.getElementById("replacementQty").innerText = `"${originalFood}" not found. Try: chicken breast, rice, oats, etc.`;
    return;
  }
  
  if (!replacement) {
    document.getElementById("replacementQty").innerText = `"${replacementFood}" not found. Try: ground turkey, quinoa, greek yogurt, etc.`;
    return;
  }
  
  // Calculate original macros
  const originalMacros = {
    protein: (original.data.protein * original.quantity) / 100,
    carbs: (original.data.carbs * original.quantity) / 100,
    fat: (original.data.fat * original.quantity) / 100,
    calories: (original.data.calories * original.quantity) / 100
  };
  
  // Calculate equivalent quantity based on protein
  const equivalentQty = (originalMacros.protein / replacement.data.protein) * 100;
  
  // Calculate replacement macros
  const replacementMacros = {
    protein: (replacement.data.protein * equivalentQty) / 100,
    carbs: (replacement.data.carbs * equivalentQty) / 100,
    fat: (replacement.data.fat * equivalentQty) / 100,
    calories: (replacement.data.calories * equivalentQty) / 100
  };
  
  document.getElementById("replacementQty").innerText = 
    `Replacement: ${equivalentQty.toFixed(0)}g of ${replacement.food}`;
  
  // Create comparison table
  const tableHTML = `
    <tr>
      <td style='padding: 10px; border: 1px solid #333;'>${original.food}</td>
      <td style='padding: 10px; border: 1px solid #333;'>${original.quantity}g</td>
      <td style='padding: 10px; border: 1px solid #333;'>${originalMacros.protein.toFixed(1)}</td>
      <td style='padding: 10px; border: 1px solid #333;'>${originalMacros.carbs.toFixed(1)}</td>
      <td style='padding: 10px; border: 1px solid #333;'>${originalMacros.fat.toFixed(1)}</td>
      <td style='padding: 10px; border: 1px solid #333;'>${originalMacros.calories.toFixed(0)}</td>
    </tr>
    <tr>
      <td style='padding: 10px; border: 1px solid #333;'>${replacement.food}</td>
      <td style='padding: 10px; border: 1px solid #333;'>${equivalentQty.toFixed(0)}g</td>
      <td style='padding: 10px; border: 1px solid #333;'>${replacementMacros.protein.toFixed(1)}</td>
      <td style='padding: 10px; border: 1px solid #333;'>${replacementMacros.carbs.toFixed(1)}</td>
      <td style='padding: 10px; border: 1px solid #333;'>${replacementMacros.fat.toFixed(1)}</td>
      <td style='padding: 10px; border: 1px solid #333;'>${replacementMacros.calories.toFixed(0)}</td>
    </tr>
  `;
  
  document.getElementById("macroTableBody").innerHTML = tableHTML;
  document.getElementById("macroTable").style.display = "block";
}
</script>
</body>
</html>

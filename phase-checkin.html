<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BUILT Weekly Phase Check-In</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Arial Black", Arial, sans-serif;
            background: #1A1A1A;
            color: #FFFFFF;
            line-height: 1.4;
            min-height: 100vh;
            padding: 20px;
        }

        .main-container {
            max-width: 900px;
            margin: 0 auto;
            background: #1A1A1A;
            border-radius: 12px;
            overflow: hidden;
        }

        .header-section {
            background: #000000;
            border: 2px solid #DC2626;
            padding: 25px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);
        }

        .main-title {
            font-size: 28px;
            font-weight: 900;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #FFFFFF;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(220, 38, 38, 0.3);
        }

        .subtitle {
            font-size: 16px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #6B7280;
        }

        .form-section {
            background: #000000;
            border: 1px solid #6B7280;
            margin-top: 20px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);
        }

        .section-title {
            font-size: 18px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: #FFFFFF;
            border-bottom: 2px solid #DC2626;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-row-three {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-size: 14px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #FFFFFF;
            margin-bottom: 8px;
        }

        input[type="text"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 15px;
            background: #1A1A1A;
            border: 2px solid #6B7280;
            border-radius: 6px;
            color: #FFFFFF;
            font-size: 16px;
            font-weight: 700;
            transition: all 0.2s ease;
            min-height: 44px;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: #DC2626;
            box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.2);
            transform: translateY(-1px);
        }

        input::placeholder,
        textarea::placeholder {
            color: #6B7280;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        select {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23DC2626' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 12px center;
            background-repeat: no-repeat;
            background-size: 16px;
            padding-right: 40px;
        }

        .phase-selector {
            background: linear-gradient(135deg, #DC2626, #B91C1C);
            border: 2px solid #DC2626;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(220, 38, 38, 0.3);
        }

        .phase-selector select {
            background: #1A1A1A;
            border: 2px solid #FFFFFF;
            color: #FFFFFF;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .phase-selector label {
            color: #FFFFFF;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
            margin-bottom: 12px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .metric-card {
            background: #1A1A1A;
            border: 1px solid #6B7280;
            border-radius: 8px;
            padding: 20px;
            transition: all 0.2s ease;
        }

        .metric-card:hover {
            border-color: #DC2626;
            box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.2);
        }

        .metric-title {
            font-size: 12px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #DC2626;
            margin-bottom: 8px;
        }

        .stress-scale {
            background: #1A1A1A;
            border: 2px solid #6B7280;
            border-radius: 8px;
            padding: 20px;
        }

        .scale-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 12px;
            font-weight: 700;
            color: #6B7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .primary-button {
            width: 100%;
            padding: 18px 20px;
            background: #DC2626;
            color: #FFFFFF;
            border: 2px solid #DC2626;
            border-radius: 6px;
            font-size: 18px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 16px rgba(220, 38, 38, 0.3);
            min-height: 44px;
        }

        .primary-button:hover {
            background: #FFFFFF;
            color: #DC2626;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(220, 38, 38, 0.4);
        }

        .primary-button:active {
            transform: translateY(0) scale(0.98);
        }

        .primary-button:disabled {
            background: #6B7280;
            border-color: #6B7280;
            color: #FFFFFF;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .results-section {
            background: #000000;
            border: 2px solid #DC2626;
            margin-top: 20px;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(220, 38, 38, 0.3);
            display: none;
        }

        .result-content {
            white-space: pre-wrap;
            font-size: 14px;
            font-weight: 700;
            line-height: 1.6;
            color: #FFFFFF;
        }

        .phase-badge {
            display: inline-block;
            background: #DC2626;
            color: #FFFFFF;
            padding: 8px 15px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 15px;
        }

        .progress-indicator {
            background: #1A1A1A;
            border: 1px solid #6B7280;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #6B7280;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #DC2626, #EF4444);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .weight-change {
            font-size: 18px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 10px 0;
        }

        .weight-change.positive {
            color: #10B981;
        }

        .weight-change.negative {
            color: #DC2626;
        }

        .weight-change.neutral {
            color: #6B7280;
        }

        .recommendation-card {
            background: linear-gradient(135deg, #1A1A1A, #000000);
            border: 2px solid #DC2626;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .recommendation-title {
            font-size: 16px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #DC2626;
            margin-bottom: 10px;
        }

        /* Mobile Optimization */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }

            .main-title {
                font-size: 24px;
                letter-spacing: 1.5px;
            }

            .subtitle {
                font-size: 14px;
            }

            .form-row,
            .form-row-three {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .metrics-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .header-section,
            .form-section {
                padding: 20px;
            }

            input[type="text"],
            input[type="number"],
            select,
            textarea {
                font-size: 16px; /* Prevents zoom on iOS */
                padding: 16px;
            }

            .primary-button {
                padding: 20px;
                font-size: 16px;
            }
        }

        @media (max-width: 480px) {
            .main-title {
                font-size: 20px;
                letter-spacing: 1px;
            }

            .section-title {
                font-size: 16px;
                letter-spacing: 1px;
            }

            .header-section,
            .form-section {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- Header Section -->
        <div class="header-section">
            <h1 class="main-title">BUILT WEEKLY PHASE CHECK-IN</h1>
            <p class="subtitle">TRACK PROGRESS & OPTIMIZE YOUR PHASE</p>
        </div>

        <!-- Phase Selection Section -->
        <div class="form-section">
            <div class="phase-selector">
                <label for="phase">CURRENT PHASE</label>
                <select id="phase">
                    <option value="1">PHASE 1: FOUNDATIONS</option>
                    <option value="2">PHASE 2: MUSCLE GAIN</option>
                    <option value="3">PHASE 3: RESET/RECOMP</option>
                    <option value="4">PHASE 4: FAT-LOSS</option>
                    <option value="5">PHASE 5: RESET/REVERSE</option>
                </select>
            </div>
        </div>

        <!-- Body Metrics Section -->
        <div class="form-section">
            <h2 class="section-title">📊 BODY METRICS</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="startingWeight">STARTING WEIGHT (LBS)</label>
                    <input id="startingWeight" type="number" placeholder="E.G. 180">
                </div>
                <div class="form-group">
                    <label for="currentWeight">CURRENT WEIGHT (LBS)</label>
                    <input id="currentWeight" type="number" placeholder="E.G. 182">
                </div>
            </div>
            <div class="form-group">
                <label for="weekNumber">WEEK NUMBER IN THIS PHASE</label>
                <input id="weekNumber" type="number" placeholder="E.G. 2">
            </div>
        </div>

        <!-- Nutrition Tracking Section -->
        <div class="form-section">
            <h2 class="section-title">🍽️ CURRENT MACROS</h2>
            <div class="form-row-three">
                <div class="form-group">
                    <label for="protein">PROTEIN (G)</label>
                    <input id="protein" type="number" placeholder="E.G. 200">
                </div>
                <div class="form-group">
                    <label for="carbs">CARBS (G)</label>
                    <input id="carbs" type="number" placeholder="E.G. 300">
                </div>
                <div class="form-group">
                    <label for="fats">FATS (G)</label>
                    <input id="fats" type="number" placeholder="E.G. 80">
                </div>
            </div>
        </div>

        <!-- Performance Metrics Section -->
        <div class="form-section">
            <h2 class="section-title">💪 PERFORMANCE METRICS</h2>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-title">TRAINING PERFORMANCE</div>
                    <input id="training" type="text" placeholder="E.G. STRENGTH UP, FELT FLAT, ETC.">
                </div>
                <div class="metric-card">
                    <div class="metric-title">RECOVERY STATUS</div>
                    <input id="recovery" type="text" placeholder="E.G. RESTED, POOR SLEEP, GOOD PUMPS...">
                </div>
            </div>
            
            <div class="stress-scale">
                <label for="stress">STRESS LEVEL THIS WEEK</label>
                <input id="stress" type="number" min="1" max="10" placeholder="1-10">
                <div class="scale-labels">
                    <span>LOW STRESS</span>
                    <span>MODERATE</span>
                    <span>HIGH STRESS</span>
                </div>
            </div>
        </div>

        <!-- Submit Button -->
        <div class="form-section">
            <button class="primary-button" onclick="evaluatePhase()">
                ANALYZE PROGRESS & GET RECOMMENDATIONS
            </button>
        </div>

        <!-- Results Section -->
        <div id="resultsSection" class="results-section">
            <h2 class="section-title">📈 PROGRESS ANALYSIS</h2>
            <div id="result" class="result-content"></div>
        </div>
    </div>

    <script>
        function evaluatePhase() {
            const phase = parseInt(document.getElementById("phase").value);
            const start = parseFloat(document.getElementById("startingWeight").value);
            const current = parseFloat(document.getElementById("currentWeight").value);
            const week = parseInt(document.getElementById("weekNumber").value);
            const protein = parseFloat(document.getElementById("protein").value);
            const carbs = parseFloat(document.getElementById("carbs").value);
            const fats = parseFloat(document.getElementById("fats").value);
            const training = document.getElementById("training").value;
            const recovery = document.getElementById("recovery").value;
            const stress = parseInt(document.getElementById("stress").value);

            const result = document.getElementById("result");
            const resultsSection = document.getElementById("resultsSection");

            // Validation
            if (!start || !current || !week || !protein || !carbs || !fats) {
                result.innerHTML = '<div style="color: #DC2626; font-weight: 900; text-transform: uppercase;">⚠️ PLEASE FILL IN ALL REQUIRED FIELDS</div>';
                resultsSection.style.display = "block";
                return;
            }

            const weightChange = current - start;
            const percentChange = (weightChange / start) * 100;
            const weeklyRate = percentChange / week;

            // Phase names for display
            const phaseNames = {
                1: "FOUNDATIONS",
                2: "MUSCLE GAIN", 
                3: "RESET/RECOMP",
                4: "FAT-LOSS",
                5: "RESET/REVERSE"
            };

            let message = `<div class="phase-badge">PHASE ${phase}: ${phaseNames[phase]}</div>\n\n`;
            
            message += `<div class="weight-change ${weightChange > 0 ? 'positive' : weightChange < 0 ? 'negative' : 'neutral'}">`;
            message += `WEIGHT CHANGE: ${weightChange.toFixed(1)} LBS (${percentChange.toFixed(2)}%)</div>\n`;
            message += `WEEKLY RATE: ${weeklyRate.toFixed(2)}% PER WEEK\n\n`;

            message += `TRAINING PERFORMANCE: ${training.toUpperCase()}\n`;
            message += `RECOVERY STATUS: ${recovery.toUpperCase()}\n`;
            message += `STRESS LEVEL: ${stress}/10\n\n`;

            let target = "";
            let adjust = false;
            let newCarbs = carbs;
            let newFats = fats;
            let calShift = 0;
            let status = "";

            // Phase-specific analysis
            if (phase === 1) {
                target = "🎯 GOAL: HOLD STEADY - FINDING YOUR TRUE MAINTENANCE";
                status = Math.abs(weeklyRate) < 0.2 ? "✅ ON TRACK" : "⚠️ NEEDS ADJUSTMENT";
            } else if (phase === 2) {
                target = "🎯 GOAL: GAIN 0.5–1.0% PER WEEK";
                if (weeklyRate < 0.5) {
                    adjust = true;
                    calShift = 400;
                    status = "📈 INCREASE CALORIES";
                } else if (weeklyRate > 1.0) {
                    adjust = true;
                    calShift = -200;
                    status = "📉 REDUCE CALORIES SLIGHTLY";
                } else {
                    status = "✅ PERFECT PROGRESS";
                }
            } else if (phase === 3) {
                target = "🎯 GOAL: LOSE 0–0.5% PER WEEK (SLOW RECOMP)";
                if (weeklyRate > 0) {
                    adjust = true;
                    calShift = -200;
                    status = "📉 REDUCE CALORIES";
                } else if (weeklyRate < -0.5) {
                    adjust = true;
                    calShift = 200;
                    status = "📈 INCREASE CALORIES";
                } else {
                    status = "✅ IDEAL RECOMP RATE";
                }
            } else if (phase === 4) {
                target = "🎯 GOAL: LOSE 1–1.5% PER WEEK";
                if (weeklyRate > -1.0) {
                    adjust = true;
                    calShift = -400;
                    status = "📉 INCREASE DEFICIT";
                } else if (weeklyRate < -1.5) {
                    adjust = true;
                    calShift = 200;
                    status = "📈 REDUCE DEFICIT";
                } else {
                    status = "✅ OPTIMAL FAT LOSS";
                }
            } else if (phase === 5) {
                target = "🎯 GOAL: GAIN 0–0.5% PER WEEK (REVERSE DIET)";
                if (weeklyRate < 0.1) {
                    adjust = true;
                    calShift = 200;
                    status = "📈 CONTINUE REVERSE";
                } else if (weeklyRate > 0.5) {
                    adjust = true;
                    calShift = -100;
                    status = "📉 SLOW THE REVERSE";
                } else {
                    status = "✅ PERFECT REVERSE";
                }
            }

            message += `<div class="recommendation-card">`;
            message += `<div class="recommendation-title">${target}</div>`;
            message += `<div style="color: ${status.includes('✅') ? '#10B981' : '#DC2626'}; font-weight: 900;">${status}</div>`;
            message += `</div>\n`;

            if (adjust) {
                const carbAdj = (calShift * 0.75) / 4;
                const fatAdj = (calShift * 0.25) / 9;
                newCarbs += carbAdj;
                newFats += fatAdj;
                
                message += `<div class="recommendation-card">`;
                message += `<div class="recommendation-title">📝 MACRO ADJUSTMENTS</div>`;
                message += `${calShift > 0 ? '📈 ADD' : '📉 REMOVE'} ${Math.abs(Math.round(carbAdj))}G CARBS\n`;
                message += `${calShift > 0 ? '📈 ADD' : '📉 REMOVE'} ${Math.abs(Math.round(fatAdj))}G FATS\n\n`;
                message += `<div style="color: #DC2626; font-weight: 900;">NEW MACRO TARGETS:</div>`;
                message += `→ PROTEIN: ${protein}G (UNCHANGED)\n`;
                message += `→ CARBS: ${Math.round(newCarbs)}G\n`;
                message += `→ FATS: ${Math.round(newFats)}G\n`;
                message += `→ TOTAL CALORIES: ~${Math.round(protein * 4 + newCarbs * 4 + newFats * 9)}\n`;
                message += `</div>`;
            } else {
                message += `<div class="recommendation-card">`;
                message += `<div class="recommendation-title">✅ NO CHANGES NEEDED</div>`;
                message += `STAY THE COURSE WITH CURRENT MACROS:\n`;
                message += `→ PROTEIN: ${protein}G\n`;
                message += `→ CARBS: ${carbs}G\n`;
                message += `→ FATS: ${fats}G\n`;
                message += `</div>`;
            }

            // Stress level advice
            if (stress >= 8) {
                message += `\n<div class="recommendation-card">`;
                message += `<div class="recommendation-title">🚨 HIGH STRESS ALERT</div>`;
                message += `CONSIDER REDUCING TRAINING VOLUME OR ADDING A DELOAD WEEK.\n`;
                message += `HIGH STRESS CAN IMPAIR PROGRESS IN ANY PHASE.`;
                message += `</div>`;
            }

            result.innerHTML = message;
            resultsSection.style.display = "block";
            
            // Smooth scroll to results
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
